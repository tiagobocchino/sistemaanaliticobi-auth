-- Schemas para Supabase baseados nos samples atuais do CVDW.
-- Ajuste tipos conforme necessidade. Campos json/jsonb preservam dados adicionais.

-- Tabela reservas
create table if not exists reservas (
  referencia text,
  referencia_data timestamptz,
  ativo text,
  idreserva bigint primary key,
  data_cad timestamptz,
  codigointerno text,
  numero_venda text,
  aprovada text,
  data_venda timestamptz,
  situacao text,
  idsituacao int,
  situacao_comercial text,
  idempreendimento int,
  codigointerno_empreendimento text,
  empreendimento text,
  data_entrega_chaves_contrato_cliente text,
  etapa text,
  bloco text,
  unidade text,
  regiao text,
  venda text,
  idcliente int,
  documento_cliente text,
  cliente text,
  email text,
  cidade text,
  cep_cliente text,
  renda numeric,
  sexo text,
  idade int,
  estado_civil text,
  idcorretor int,
  corretor text,
  idimobiliaria int,
  imobiliaria text,
  valor_contrato numeric,
  valor_contrato_com_juros numeric,
  vencimento text,
  campanha text,
  cessao text,
  motivo_cancelamento text,
  data_cancelamento timestamptz,
  espacos_complementares jsonb,
  idlead text,
  data_ultima_alteracao_situacao timestamptz,
  idempresa_correspondente int,
  empresa_correspondente text,
  valor_fgts numeric,
  valor_financiamento numeric,
  valor_subsidio numeric,
  nome_usuario text,
  idunidade int,
  idprecadastro int,
  idmidia int,
  midia text,
  descricao_motivo_cancelamento text,
  idsituacao_anterior int,
  situacao_anterior text,
  idtabela int,
  nometabela text,
  codigointernotabela text,
  idtipo_tabela text,
  tipo_tabela text,
  data_contrato timestamptz,
  valor_proposta numeric,
  vpl_reserva numeric,
  valor_liquido_com_juros numeric,
  valor_liquido_sem_juros numeric,
  vgv_tabela numeric,
  vpl_tabela numeric,
  usuario_aprovacao text,
  data_aprovacao timestamptz,
  juros_condicao_aprovada numeric,
  juros_apos_entrega_condicao_aprovada numeric,
  idtabela_condicao_aprovada int,
  data_primeira_aprovacao timestamptz,
  aprovacao_absoluto numeric,
  aprovacao_vpl_valor numeric,
  idtipovenda int,
  tipovenda text,
  idgrupo int,
  grupo text,
  data_modificacao timestamptz,
  idgestor_time int,
  nome_time text,
  juros_apos_entrega_cadastro text,
  juros_cadastro_fixa_adicional text,
  juros_cadastro text,
  data_entrega text,
  vgv_tabela_minima numeric,
  vpl_tabela_minima numeric,
  idtime int,
  campos_adicionais jsonb,
  campos_adicionais_contrato jsonb,
  raw jsonb
);

-- Tabela vendas
create table if not exists vendas (
  referencia text,
  referencia_data timestamptz,
  ativo text,
  idreserva bigint primary key,
  data_reserva timestamptz,
  data_venda timestamptz,
  idhistorico int,
  data_historico timestamptz,
  aprovada text,
  valor_contrato numeric,
  contrato_interno text,
  idpessoa_cv int,
  idpessoa_int text,
  cliente text,
  idcliente int,
  documento_cliente text,
  email text,
  cidade text,
  cep_cliente text,
  renda numeric,
  sexo text,
  idade int,
  estado_civil text,
  idcorretor int,
  corretor text,
  idimobiliaria int,
  imobiliaria text,
  idempreendimento int,
  empreendimento text,
  codigointerno_empreendimento text,
  regiao text,
  planta text,
  etapa text,
  bloco text,
  idunidade int,
  unidade text,
  area_privativa numeric,
  campanha text,
  idmidia int,
  midia text,
  idtabela int,
  nometabela text,
  codigointernotabela text,
  idtipovenda int,
  tipovenda text,
  idlead int,
  associados jsonb,
  raw jsonb
);

-- Tabela unidades
create table if not exists unidades (
  referencia int primary key,
  referencia_data timestamptz,
  idempreendimento int,
  idempreendimento_int text,
  nome_empreendimento text,
  idtipo_empreendimento int,
  tipo_empreendimento text,
  idetapa int,
  idetapa_int text,
  etapa text,
  idbloco int,
  idbloco_int text,
  bloco text,
  area_privativa numeric,
  idunidade int,
  nome text,
  idunidade_int text,
  vagas_garagem int,
  andar int,
  area_comum numeric,
  coluna int,
  posicao text,
  tipologia text,
  tipo text,
  idtipo_int text,
  empresa_terceirizacao text,
  valor numeric,
  valor_avaliacao numeric,
  data_bloqueio timestamptz,
  data_entrega timestamptz,
  data_entrega_chaves timestamptz,
  agendar_a_partir timestamptz,
  liberar_a_partir timestamptz,
  plantas jsonb,
  campos_adicionais jsonb,
  situacao_reservada text,
  situacao_reservada_vencimento timestamptz,
  situacao_reservada_idsituacao int,
  situacao_reservada_nomesituacao text,
  situacao_cor_bg text,
  situacao_cor_nome text,
  situacao_nome text,
  situacao_reservada_inicio timestamptz,
  situacao_vendida int,
  situacao_vendida_idsituacao int,
  situacao_idmotivo int,
  situacao_bloqueados_internos text,
  situacao_bloqueada text,
  situacao_bloqueada_idmotivo int,
  situacao_bloqueada_motivo text,
  situacao_tipo_id int,
  situacao_tipo_nome text,
  situacao_para_venda int,
  situacao_mapa_disponibilidade int,
  situacao_possui_reserva_solicitacao_distrato text,
  raw jsonb
);

-- Tabela leads
create table if not exists leads (
  referencia text,
  referencia_data timestamptz,
  ativo text,
  idlead bigint primary key,
  idsituacao int,
  situacao text,
  data_cad timestamptz,
  nome text,
  email text,
  telefone text,
  documento_cliente text,
  cep_cliente text,
  idponto_venda int,
  ponto_venda text,
  conversao_original text,
  conversao_ultimo text,
  idempreendimento_primeiro int,
  empreendimento_primeiro text,
  idempreendimento_ultimo int,
  empreendimento_ultimo text,
  idmotivo int,
  motivo text,
  idgestor int,
  gestor text,
  idcorretor int,
  corretor text,
  data_associacao_corretor timestamptz,
  idimobiliaria int,
  imobiliaria text,
  feedback text,
  origem text,
  origem_ultimo text,
  midia_ultimo text,
  midia_original text,
  renda_familiar numeric,
  motivo_cancelamento text,
  data_cancelamento timestamptz,
  data_ultima_interacao timestamptz,
  ultima_data_conversao timestamptz,
  data_reativacao timestamptz,
  idsituacao_anterior int,
  nome_situacao_anterior_lead text,
  descricao_motivo_cancelamento text,
  submotivo_cancelamento text,
  possibilidade_venda int,
  inserido_bolsao text,
  data_primeira_interacao_gestor timestamptz,
  data_primeira_interacao_corretor timestamptz,
  score int,
  idgestor_ultimo int,
  gestor_ultimo text,
  idcorretor_ultimo int,
  corretor_ultimo text,
  idcorretor_penultimo int,
  idimobiliaria_ultimo int,
  corretor_penultimo text,
  nome_momento_lead text,
  novo text,
  retorno text,
  data_ultima_alteracao timestamptz,
  estado text,
  cidade text,
  regiao text,
  vencido text,
  data_vencimento timestamptz,
  profissao text,
  tags text,
  conversao text,
  idempreendimento text,
  codigointerno_empreendimento text,
  empreendimento text,
  caracteristicas text,
  reserva int,
  origem_nome text,
  origem_ultimo_nome text,
  campos_adicionais jsonb,
  raw jsonb
);

-- Tabela imobiliarias
create table if not exists imobiliarias (
  referencia text,
  referencia_data timestamptz,
  idimobiliaria bigint primary key,
  ativo text,
  ativo_painel text,
  data_cad timestamptz,
  idestado int,
  idcidade int,
  nome text,
  razao_social text,
  cnpj text,
  cnpj_faturamento text,
  idlogradouro int,
  endereco text,
  complemento text,
  numero text,
  bairro text,
  cep text,
  telefone text,
  celular text,
  email text,
  creci text,
  avatar_nome text,
  avatar_servidor text,
  avatar_tipo text,
  avatar_tamanho text,
  validade_creci date,
  gerente_nome text,
  gerente_cpf text,
  gerente_telefone text,
  gerente_celular text,
  gerente_email text,
  sigla text,
  codigointerno text,
  observacoes text,
  micro_empresa text,
  inscricao_estadual text,
  inscricao_municipal text,
  tipo_conta text,
  idbanco int,
  nome_agencia text,
  numero_agencia text,
  digito_agencia text,
  numero_conta text,
  digito_conta text,
  nome_favorecido text,
  cnpj_favorecido text,
  alterar_login_corretor text,
  escala_plantao text,
  idimobiliaria_nov text,
  bloqueado_recebimento_pagamento_comissao text,
  autocadastro_corretor text,
  diretor_nome text,
  diretor_cpf text,
  diretor_telefone text,
  diretor_celular text,
  diretor_email text,
  data_modificacao timestamptz,
  raw jsonb
);

-- Tabela corretores
create table if not exists corretores (
  referencia text,
  referencia_data timestamptz,
  ativo text,
  ativo_login text,
  idcorretor bigint primary key,
  idimobiliaria int,
  data_cad timestamptz,
  documento text,
  nome text,
  apelido text,
  avatar text,
  avatar_nome text,
  avatar_servidor text,
  avatar_tipo text,
  avatar_tamanho text,
  sexo text,
  estado_civil text,
  data_nasc date,
  telefone text,
  celular text,
  rg text,
  rg_orgao_expedidor text,
  data_emissao_rg date,
  data_readmissao date,
  numero_pis text,
  naturalidade text,
  pais text,
  possui_filhos text,
  dependentes int,
  tamanho_camisa text,
  razao_social text,
  contrato_social_nire text,
  inscricao_estadual text,
  inscricao_municipal text,
  cep text,
  logradouro text,
  endereco text,
  bairro text,
  numero text,
  complemento text,
  estado text,
  cidade text,
  grau_instrucao text,
  curso text,
  ano_conclusao int,
  email text,
  imobiliaria text,
  categoria text,
  nivel text,
  participa_roleta_online text,
  classificacao text,
  codigointerno text,
  identificador text,
  profissional_experiencia_ramo_imobiliario text,
  profissional_quanto_tempo text,
  profissional_ultima_atual_empresa text,
  profissional_segmento text,
  profissional_data_inicio date,
  profissional_data_fim date,
  profissional_motivo_saida text,
  profissional_superior_imediato text,
  profissional_telefone text,
  profissional_cargo_inicial text,
  profissional_cargo_final text,
  profissional_descricao_atividades text,
  profissional_ultimos_atuais_ganhos text,
  profissional_expectativa_ganhos text,
  tipo_creci text,
  creci text,
  situacao_creci text,
  estado_creci text,
  cidade_creci text,
  vencimento_creci date,
  tipo_conta text,
  banco text,
  nome_agencia text,
  numero_agencia text,
  digito_agencia text,
  numero_conta text,
  digito_conta text,
  cpf_favorecido text,
  nome_favorecido text,
  cnpj text,
  ju_cep text,
  ju_logradouro text,
  ju_endereco text,
  ju_bairro text,
  ju_numero text,
  ju_complemento text,
  ju_estado text,
  ju_cidade text,
  cnpj_faturamento text,
  razaosocial_faturamento text,
  nomefantasia_faturamento text,
  representante_nome text,
  representante_telefone text,
  representante_celular text,
  representante_email text,
  representante_rg text,
  representante_documento text,
  representante_creci text,
  representante_vencimento_creci date,
  representante_data_nasc date,
  representante_quantidade_filhos int,
  banco_tipo_doc text,
  banco_cpf_titular text,
  banco_cnpj_titular text,
  data_ult_hist timestamptz,
  raw jsonb
);

-- Tabela repasses
create table if not exists repasses (
  referencia text,
  referencia_data timestamptz,
  ativo text,
  idrepasse bigint primary key,
  idsituacao int,
  data_cad timestamptz,
  ultima_atualizacao timestamptz,
  data_modificao_situacao timestamptz,
  data_modificao timestamptz,
  situacao text,
  idreserva int,
  idempreendimento int,
  codigointerno_empreendimento text,
  empreendimento text,
  etapa text,
  bloco text,
  unidade text,
  regiao text,
  idcliente int,
  documento_cliente text,
  cliente text,
  cep_cliente text,
  parcela text,
  idcontrato int,
  contrato text,
  contrato_quitado text,
  contrato_liquidado text,
  valor_previsto numeric,
  parcela_conclusao numeric,
  saldo_devedor numeric,
  valor_divida numeric,
  valor_subsidio numeric,
  valor_fgts numeric,
  valor_registro numeric,
  valor_financiado numeric,
  data_status_financiamento timestamptz,
  registro_pago text,
  valor_contrato numeric,
  numero_contrato text,
  data_registro timestamptz,
  correspondente text,
  banco text,
  agencia text,
  data_alteracao_status timestamptz,
  data_venda timestamptz,
  data_contrato_contabilizado date,
  data_contrato_liberado timestamptz,
  data_assinatura_de_contrato timestamptz,
  liberar_assinatura text,
  proxima_acao text,
  num_matricula text,
  recebendo_financiamento text,
  itbi_pago text,
  laudemio_pago text,
  idlead int,
  data_unidade_liberada timestamptz,
  data_laudo_liberado timestamptz,
  data_recurso_liberado timestamptz,
  data_sincronizacao timestamptz,
  data_cadastro timestamptz,
  idunidade int,
  reserva int,
  campos_adicionais jsonb,
  raw jsonb
);

-- Tabela pessoas
create table if not exists pessoas (
  referencia int,
  referencia_data timestamptz,
  ativo text,
  idpessoa bigint primary key,
  idpessoa_int text,
  idpessoa_legado text,
  data_cad timestamptz,
  ativo_painel text,
  ativo_login text,
  situacao text,
  validado text,
  documento_tipo text,
  documento text,
  pessoa_estrangeira text,
  nome text,
  reconhecimento_firma text,
  sexo text,
  data_nasc date,
  estado_civil text,
  data_casamento date,
  pacto_antenupcial_livro text,
  folha text,
  cartorio text,
  pais text,
  naturalidade text,
  possui_dependentes text,
  quantidade_dependentes int,
  possui_procuracao text,
  possui_pacto_antenupcial text,
  menor_nao_emancipado text,
  grau_instrucao text,
  renda_familiar numeric,
  marketing_pos_venda text,
  rg text,
  rg_orgao_emissor text,
  rg_data_emissao date,
  rne text,
  rne_orgao_emissor text,
  rne_data_emissao date,
  passaporte text,
  passaporte_orgao_emissor text,
  passaporte_data_emissao date,
  cnh text,
  cnh_orgao_emissor text,
  data_primeira_habilitacao_cnh date,
  data_fim_validade_cnh date,
  cnh_data_emissao date,
  rnm text,
  rnm_orgao_emissor text,
  rnm_data_emissao date,
  filiacao_mae text,
  filiacao_pai text,
  razao_social text,
  segmento_razao text,
  razao_social_anterior text,
  sucessao text,
  forma_constituicao text,
  data_constituicao date,
  numero_junta_comercial text,
  classificacao text,
  insc_estadual text,
  insc_municipal text,
  cep text,
  logradouro text,
  endereco text,
  bairro text,
  numero text,
  complemento text,
  estado text,
  cidade text,
  endereco_pais text,
  tipo_residencia text,
  reside_com text,
  valor_aluguel numeric,
  tempo_residencia int,
  tipo_correspondencia text,
  politicamente_exposta text,
  ppe_cargo text,
  ppe_exercicio text,
  suspeito text,
  residente_municipio_fronteira text,
  relacionamento_ppe text,
  relacionamento_ppe_nome text,
  relacionamento_ppe_parentesco text,
  relacionamento_ppe_cargo text,
  relacionamento_ppe_exercicio text,
  relacionamento_ppe_identificacao text,
  relacionamento_ppe_orgao_emissor text,
  relacionamento_ppe_data_nasc date,
  relacionamento_ppe_cpf text,
  numero_pis text,
  observacoes text,
  raw jsonb
);
